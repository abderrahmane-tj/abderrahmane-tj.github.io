(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{4182:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(8169)}])},8169:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return O}});var r=n(1527),a=n(9228),i=n(959),o=n(1102),l=n.n(o),c=n(3179);function s(){let e=(0,a.Z)(["\n  position: relative;\n  width: var(--base-width);\n  height: var(--base-height);\n"]);return s=function(){return e},e}function f(){let e=(0,a.Z)(["\n  width: var(--base-width);\n  height: var(--base-height);\n  background-color: rgba(var(--leaf-background), var(--coefficient));\n  transition: background 1s, transform 100ms;\n  "," & {\n    position: absolute;\n  }\n"]);return f=function(){return e},e}function u(){let e=(0,a.Z)(["\n  right: 0;\n  top: -100%;\n  transform-origin: bottom right;\n  transform: scale(var(--right-scale)) rotate(var(--right-rotation));\n"]);return u=function(){return e},e}function g(){let e=(0,a.Z)(["\n  top: -100%;\n  left: 0;\n  transform-origin: bottom left;\n  transform: scale(var(--left-scale)) rotate(var(--left-rotation));\n"]);return g=function(){return e},e}let d=c.ZP.div.withConfig({displayName:"LeafInner",componentId:"sc-e6e728cd-0"})(s()),h=c.ZP.div.withConfig({displayName:"LeafElement",componentId:"sc-e6e728cd-1"})(f(),d),m=(0,c.ZP)(h).withConfig({displayName:"RightLeaf",componentId:"sc-e6e728cd-2"})(u()),p=(0,c.ZP)(h).withConfig({displayName:"LeftLeaf",componentId:"sc-e6e728cd-3"})(g()),v=i.memo(e=>{let{orientation:t,level:n=0}=e,[a,o]=(0,i.useState)([]),c=(0,i.useMemo)(()=>Math.pow(.8,n),[]),s=(0,i.useMemo)(()=>{switch(t){case"left":return p;case"right":return m;default:return h}},[]),f=(0,i.useMemo)(()=>0===n?"root-node":"Node-".concat(n,"-").concat("right"==t?0:1),[]);return(0,i.useEffect)(()=>{let e=[];if(n<4){let t=l()(1111,2222);e=[setTimeout(()=>{o(["right"])},t),setTimeout(()=>{o(["left","right"])},l()(t,3333))]}return()=>{e.forEach(e=>clearTimeout(e))}},[]),(0,r.jsx)(s,{id:f,style:{"--coefficient":c,"--leaf-background":a.length<2?"var(--growing-leaf-color)":"var(--leaf-full)"},children:(0,r.jsxs)(d,{children:[a.length>=1&&(0,r.jsx)(v,{orientation:"right",level:n+1}),a.length>=2&&(0,r.jsx)(v,{orientation:"left",level:n+1})]})})}),b=e=>e*Math.PI/180,w=e=>e/Math.PI*180,y=(e,t,n)=>e>=n?n:e<=t?t:e,x=(e,t,n,r)=>{let a=r/Math.sin(Math.PI/2),i=t-n.top,o=e-(n.left+r/2),l=w(Math.asin(i/Math.sqrt(i*i+o*o))),c="";i<0&&o<0&&(c="top-left"),i>=0&&o<0&&(c="bottom-left"),i<0&&o>=0&&(c="top-right"),i>=0&&o>=0&&(c="bottom-right");let s=l;switch(c){case"top-left":s=-l;break;case"top-right":s=l+180;break;case"bottom-right":s=180-s}s=y(s,30,150);let f=(180-s)/2,u=s/2,g=a*Math.sin(b(f))/r,d=a*Math.sin(b(u))/r;return{rightScale:g,leftScale:d,topAngle:90,rightAngle:u,leftAngle:f}},E=null,I={},M=75,N=!0,P={rightScale:.707,leftScale:.707,topAngle:90,leftAngle:45,rightAngle:45},Z=()=>{N=!0,I=null==E?void 0:E.getBoundingClientRect(),M=12.5*window.innerHeight/100},_=e=>{if(!I)return!1;N=!0;let{rightScale:t,leftScale:n,topAngle:r,rightAngle:a,leftAngle:i}=x(e.pageX,e.pageY,I,M);P={rightScale:t,leftScale:n,topAngle:r,rightAngle:a,leftAngle:i}},k=()=>{if(P&&N){let{rightAngle:e,leftAngle:t,rightScale:n,leftScale:r,topAngle:a}=P,i="\n--base: ".concat(M,"px;\n--right-scale: ").concat(n,";\n--left-scale: ").concat(r,";\n--top-angle: ").concat(a,"deg;\n--right-angle: ").concat(e,"deg;\n--left-angle: ").concat(t,"deg;");E.setAttribute("style",i),N=!1}window.requestAnimationFrame(k)};var C=n(2052),j=n.n(C);function L(){let e=(0,a.Z)(["\n  display: flex;\n  flex: 1;\n  justify-content: flex-end;\n  align-items: center;\n  flex-direction: column;\n\n  /* colors */\n  --pinkred: 246, 62, 98;\n  --leafy-green: 117, 166, 58;\n  --mud-purple: 132, 74, 135;\n\n  /* default theme */\n  --growing-leaf-color: var(--leafy-green);\n  --leaf-full: 128, 128, 128;\n"]);return L=function(){return e},e}function A(){let e=(0,a.Z)(["\n  --base: 75px;\n  --base-width: var(--base);\n  --base-height: var(--base);\n  --scale: 0.707;\n  --top-angle: 90deg;\n  --right-angle: 45deg;\n  --left-angle: 45deg;\n  --right-rotation: var(--right-angle);\n  --left-rotation: calc(-1 * var(--left-angle));\n  --right-scale: 0.707;\n  --left-scale: 0.707;\n  --coefficient: 1;\n"]);return A=function(){return e},e}let B=["rgb(117, 166, 58)","rgb(246, 62, 98)","rgb(132, 74, 135)"].map(e=>e.replace("rgb(","")).map(e=>e.replace(")","")),R=()=>j()(B),T=c.ZP.div.withConfig({displayName:"Canvas",componentId:"sc-8001c0cc-0"})(L()),q=c.ZP.div.attrs({id:"base"}).withConfig({displayName:"Base",componentId:"sc-8001c0cc-1"})(A()),F=e=>{var t;return null===(t=e.current)||void 0===t?void 0:t.style.setProperty("--growing-leaf-color",R())},S=()=>{let e=(0,i.useRef)(null);return(0,i.useEffect)(()=>{(function(){if(document.getElementById("debug"),!(E=document.getElementById("base")))return console.error({baseElement:E}),Error("required elements missing!");I=E.getBoundingClientRect(),N=!0,Z(),k(),window.addEventListener("mousemove",_,!1),window.addEventListener("resize",Z,!1)})(),F(e)},[]),(0,i.useEffect)(()=>{let t=setInterval(()=>{F(e)},2e3);return()=>{clearInterval(t)}},[]),console.log("Rendering : Fractal"),(0,r.jsx)(T,{ref:e,children:(0,r.jsx)(q,{children:(0,r.jsx)(v,{})})})},X=()=>(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(S,{})});var O=X}},function(e){e.O(0,[916,774,888,179],function(){return e(e.s=4182)}),_N_E=e.O()}]);